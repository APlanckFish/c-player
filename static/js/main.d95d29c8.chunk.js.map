{"version":3,"sources":["assets/test.jpg","assets/video2.mp4","components/video.tsx","components/player.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","Video","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","video","onLoadStart","handleOnLoadStart","onLoadedMetaData","obj","duration","width","clientWidth","height","clientHeight","handleOnLoadedMetadata","onLoadedData","handleOnLoadedData","onWaiting","handleOnWaiting","onCanPlay","handleOnCanPaly","onError","error","handleOnError","getBuffered","buffered","end","e","getCurrentTime","currentTime","setCurrentTime","time","setLoop","loop","setMuted","muted","setVolume","volume","play","pause","nextProps","src","_this2","_react_16_8_6_react_default","a","createElement","className","preload","poster","ref","node","onLoadedMetadata","Component","displayName","defaultProps","autoPlay","controls","Player","currentTimer","metaData","state","playTimes","setState","assign","console","log","handleOnEneded","playerStatus","playerAction","startCurrentTimer","setInterval","process","clearCurrentTimer","clearInterval","bufferedTime","canvas","danmuInput","danmuku","s","t","min","Math","floor","sec","event","target","value","content","date","Date","timePoint","fontSize","fontColor","model","nd","push","_react_16_8_6_react","video_Video","slider","onChange","handleSliderChange","bind","max","onClick","formatTime","input","placeholder","changeInput","onPressEnter","sendDanmu","vertical","changeVolume","player_Danmuku","React","DanmuViewer2","canvas1","_this3","ctx","canvasWidth","canvasHeight","scale","danmus","col","colTop","cols","topCols","bottomCols","timer","draw","clearCanvas","save","arr","i","len","length","status","_arr$i","x","y","fillStyle","font","getFont","fillText","insert","strokeStyle","lineCap","beginPath","moveTo","lineTo","textWidth","stroke","closePath","speed","current","restore","refreshDanmuku","splice","clearRect","fixCanvas","getContext","n","window","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","o","r","style","concat","size","ratio","addDanmuku","data","newDanmuku","map","d","formatData","insertDanmuku","danmu","stop","insertFlag","positionX","randomCol","tw","measureText","random","Array","fill","container","parentNode","w","h","Danmuku","_this4","dc","document","querySelector","runDanmuku","drawDanmuku","stopDanmuku","_this$props","loading","filter","round","_this$props2","_this5","id","require","videos","toString","generateDanmu","App","components_player","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"2EAAAA,EAAAC,QAAA,+5QCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,sKCqBnBC,cAWjB,SAAAA,EAAYC,GAAkB,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IAC5BE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAVAQ,WASsB,EAAAP,EAS9BQ,YAAc,WACZR,EAAKD,MAAMU,qBAViBT,EAa9BU,iBAAmB,WACjB,GAAGV,EAAKO,MAAM,CACV,IAAMI,EAAM,CACVC,SAAUZ,EAAKO,MAAMK,SACrBC,MAAOb,EAAKO,MAAMO,YAClBC,OAAQf,EAAKO,MAAMS,cAErBhB,EAAKD,MAAMkB,uBAAuBN,KApBVX,EAwB9BkB,aAAe,WACblB,EAAKD,MAAMoB,sBAzBiBnB,EA4B9BoB,UAAY,WACVpB,EAAKD,MAAMsB,mBA7BiBrB,EAgC9BsB,UAAY,WACVtB,EAAKD,MAAMwB,mBAjCiBvB,EAoC9BwB,QAAU,WACR,GAAGxB,EAAKO,MAAM,CACV,IAAMkB,EAAQzB,EAAKO,MAAMkB,MACtBA,GACCzB,EAAKD,MAAM2B,cAAcD,KAxCLzB,EA6C9B2B,YAAc,WACZ,GAAG3B,EAAKO,MAAM,KACFqB,EAAa5B,EAAKO,MAAlBqB,SACJC,EAAM,EACV,IAEEA,GAAc,KADdA,EAAMD,EAASC,IAAI,IAAM,GACH,GAAK,IAC3B,MAAOC,IAGT,OAAOD,IAvDiB7B,EA2D9B+B,eAAiB,WACb,GAAG/B,EAAKO,MACJ,OAAQP,EAAKO,MAAMyB,aA7DGhC,EAiE9BiC,eAAiB,SAACC,GACblC,EAAKO,QACJP,EAAKO,MAAMyB,YAAcE,IAnEDlC,EAuE9BmC,QAAU,SAACC,GACNpC,EAAKO,QACJP,EAAKO,MAAM6B,KAAOA,IAzEMpC,EA6E9BqC,SAAW,SAACC,GACPtC,EAAKO,QACJP,EAAKO,MAAM+B,MAAQA,IA/EKtC,EAmF9BuC,UAAY,SAACC,GACRxC,EAAKO,QACJP,EAAKO,MAAMiC,OAASA,IArFIxC,EAyF9ByC,KAAO,WACFzC,EAAKO,OACJP,EAAKO,MAAMkC,QA3FazC,EA+F9B0C,MAAQ,WACH1C,EAAKO,OACJP,EAAKO,MAAMmC,SA/Ff1C,EAAKO,MAAQ,KAFeP,qFAKR2C,GACpB,OAAOA,EAAUC,MAAQzC,KAAKJ,MAAM6C,qCA+F7B,IAAAC,EAAA1C,KACP,OACE2C,EAAAC,EAAAC,cAAA,SACEC,UAAU,cACVL,IAAKzC,KAAKJ,MAAM6C,IAChBR,KAAMjC,KAAKJ,MAAMqC,KACjBc,QAAS/C,KAAKJ,MAAMmD,QACpBC,OAAQhD,KAAKJ,MAAMoD,OACnBC,IAAK,SAAAC,GAAI,OAAKR,EAAKtC,MAAQ8C,GAE3B/B,UAAWnB,KAAKmB,UAChBE,QAASrB,KAAKqB,QACdhB,YAAaL,KAAKK,YAClB8C,iBAAkBnD,KAAKO,iBACvBQ,aAAcf,KAAKe,aACnBE,UAAWjB,KAAKiB,mBA/HSmC,aAAdzD,EACV0D,YAAc,UADJ1D,EAGV2D,aAAe,CACpBC,UAAU,EACVR,QAAS,OACTd,MAAM,EACNI,OAAQ,GACRmB,UAAU,6BCgBVC,cAGF,SAAAA,EAAa7D,GAAmB,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyD,IAC5B5D,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2D,GAAAtD,KAAAH,KAAMJ,KAHFQ,WAEwB,EAAAP,EADxB6D,kBACwB,EAAA7D,EA8DhCiB,uBAAyB,SAAC6C,GACpB9D,EAAK+D,MAAMxD,OAAsC,IAA/BP,EAAK+D,MAAMxD,MAAMyD,YACrChE,EAAKiE,SAAS,CACZ1D,MAAON,OAAOiE,OAAOlE,EAAK+D,MAAMxD,MAAO,CAAEK,SAAUkD,EAASlD,aAE9DuD,QAAQC,IAAIpE,EAAK+D,MAAMxD,MAAMK,SAAS,aAExCZ,EAAKiE,SAAS,CACZ1D,MAAON,OAAOiE,OAAOlE,EAAK+D,MAAMxD,MAAO,CAACM,MAAOiD,EAASjD,UAE1Db,EAAKiE,SAAS,CACZ1D,MAAON,OAAOiE,OAAOlE,EAAK+D,MAAMxD,MAAO,CAACQ,OAAQ+C,EAAS/C,YAzE7Bf,EA0FhCqE,eAAgB,WACdrE,EAAKiE,SAAS,CACZK,aAAc,EACdC,aAAc,KA7FcvE,EA4GhCwE,kBAAoB,WACdxE,EAAK6D,eAGT7D,EAAK6D,aAAeY,YAAY,WAC3BzE,EAAKO,OACNP,EAAKiE,SAAS,CACZ1D,MAAON,OAAOiE,OAAOlE,EAAK+D,MAAMxD,MAAO,CAAEyB,YAAahC,EAAKO,MAAMwB,qBAGrE/B,EAAKiE,SAAS,CACVS,QAAU1E,EAAK+D,MAAMxD,MAAMyB,YAAYhC,EAAK+D,MAAMxD,MAAMK,SAAU,OAErE,OAzH2BZ,EA4HhC2E,kBAAoB,WACf3E,EAAK6D,cACNe,cAAc5E,EAAK6D,cAErB7D,EAAK6D,aAAe,MA9HlB7D,EAAK+D,MAAM,CACPxD,MAAO,CACLyD,UAAW,EACXpD,SAAU,EACVoB,YAAa,EACb6C,aAAc,EAEdvC,OAAO,EAEPzB,MAAO,IACPE,OAAQ,IACRyB,OAAQ,KAEV+B,aAAc,EACdD,aAAc,EACdQ,OAAQ,KACRlE,SAAU,EACV8D,QAAS,EACTK,WAAY,GACZC,QAAS,IAEbhF,EAAKO,MAAM,KACXP,EAAK6D,aAAa,KAxBU7D,mFAgC3BG,KAAKJ,MAAMiF,UACZ7E,KAAK8D,SAAS,CACZe,QAAS7E,KAAKJ,MAAMiF,UAEtBb,QAAQC,IAAIjE,KAAK4D,MAAMiB,QAAQ,2CAKf7E,KAAK4D,MAAfxD,MACRJ,KAAK8D,SAAS,CACZM,aAAc,IAEbpE,KAAKI,OACNJ,KAAKI,MAAMkC,OAEbtC,KAAKqE,oDAGHrE,KAAK8D,SAAS,CAAEM,aAAc,IAC3BpE,KAAKI,QACNJ,KAAKI,MAAMmC,QACXvC,KAAKwE,4TA0CIzC,GACb/B,KAAK8D,SAAS,CACZM,aAAc,EACdhE,MAAON,OAAOiE,OAAO/D,KAAK4D,MAAMxD,MAAO,CAAEyB,YAAaE,MAErD/B,KAAKI,OACNJ,KAAKI,MAAM0B,eAAeC,GAE5B/B,KAAK8D,SAAS,CACZM,aAAc,uCAyBNU,GACV,IAAIC,EAAW,GACf,GAAGD,GAAG,EAAE,CAEN,IAAIE,EAAMC,KAAKC,MAAMJ,EAAE,IAAM,GACzBK,EAAML,EAAI,GAOXE,EAAI,KACLD,GAAG,KAELA,GAAGC,EAAI,IACJG,EAAI,KACLJ,GAAG,KAGLA,GAAGE,KAAKC,MAAMC,GAEhB,OAAOJ,6CAEWR,GAClB,IAAI1C,EAAe0C,EAAQ,IAAKvE,KAAK4D,MAAMxD,MAAMK,SAC9CT,KAAKI,OACNJ,KAAKI,MAAM0B,eAAeD,GAE5B7B,KAAK8D,SAAS,CACZ1D,MAAON,OAAOiE,OAAO/D,KAAK4D,MAAMxD,MAAO,CAAEyB,YAAaA,IACtD0C,QAASA,wCAGAa,GACXpF,KAAK8D,SAAS,CACZc,WAAYQ,EAAMC,OAAOC,6CAGfF,GAEZpF,KAAK8D,SAAS,CACZ1D,MAAON,OAAOiE,OAAO/D,KAAK4D,MAAMxD,MAAO,CAAEiC,OAAQ+C,MAEhDpF,KAAKI,OACNJ,KAAKI,MAAMgC,UAAUgD,EAAM,KAE7BpB,QAAQC,IAAIjE,KAAK4D,MAAMxD,MAAMiC,OAAO,8CAGpC2B,QAAQC,IAAIjE,KAAK4D,MAAMgB,WAAW,SAClC,IAAIpE,EAAM,CACR+E,QAASvF,KAAK4D,MAAMgB,WACpBY,KAAM,IAAIC,KACVC,UAAW1F,KAAK4D,MAAMxD,MAAMyB,YAAY,GACxC8D,SAAU,SACVC,UAAW,QACXC,MAAO,QAELC,EAAK9F,KAAK4D,MAAMiB,QACpBiB,EAAGC,KAAKvF,GACRR,KAAK8D,SAAS,CACZe,QAASiB,EACTlB,WAAY,sCAGP,IAAAlC,EAAA1C,KACL,OACIgG,EAAA,qBAAKlD,UAAU,aACXkD,EAAA,cAACC,EAAD,CAAOnF,uBAAwBd,KAAKc,uBAAwB2B,IAAKzC,KAAKJ,MAAM6C,IAAKO,OAAQhD,KAAKJ,MAAMoD,OAAQ1C,kBAAmBN,KAAKM,kBAAmBU,mBAAoBhB,KAAKgB,mBAAoBI,gBAAiBpB,KAAKoB,gBAAiBF,gBAAiBlB,KAAKkB,gBAAiBK,cAAevB,KAAKuB,cAAe0B,IAAK,SAAAC,GAAOR,EAAKtC,MAAM8C,KAC5U8C,EAAA,qBAAKlD,UAAU,cACbkD,EAAA,qBAAKlD,UAAU,gBACfkD,EAAA,cAACE,EAAA,EAAD,CAAQZ,MAAOtF,KAAK4D,MAAMW,QAAS4B,SAAUnG,KAAKoG,mBAAmBC,KAAKrG,MAAOgF,IAAK,EAAGsB,IAAK,IAAKxD,UAAU,mBAE/GkD,EAAA,qBAAKlD,UAAU,cAEe,GAAzB9C,KAAK4D,MAAMQ,aAAgB4B,EAAA,mBAAGlD,UAAU,wBAAwByD,QAASvG,KAAKuC,MAAM8D,KAAKrG,QAAYgG,EAAA,mBAAGlD,UAAU,qBAAqByD,QAASvG,KAAKsC,KAAK+D,KAAKrG,QAChKgG,EAAA,qBAAKlD,UAAU,eAAe9C,KAAKwG,WAAWxG,KAAK4D,MAAMxD,MAAMyB,aAA/D,KACAmE,EAAA,qBAAKlD,UAAU,YAAY9C,KAAKwG,WAAWxG,KAAK4D,MAAMxD,MAAMK,WAC5DuF,EAAA,cAACS,EAAA,EAAD,CAAOC,YAAY,mDAAW5D,UAAU,aAAawC,MAAOtF,KAAK4D,MAAMgB,WAAYuB,SAAUnG,KAAK2G,YAAYN,KAAKrG,MAAO4G,aAAc5G,KAAK6G,UAAUR,KAAKrG,QAC5JgG,EAAA,qBAAKlD,UAAU,YACbkD,EAAA,mBAAGlD,UAAU,2BACbkD,EAAA,cAACE,EAAA,EAAD,CAAQY,UAAQ,EAACxB,MAAOtF,KAAK4D,MAAMxD,MAAMiC,OAAQ8D,SAAUnG,KAAK+G,aAAaV,KAAKrG,MAAO8C,UAAU,gBACnGkD,EAAA,qBAAKlD,UAAU,gBAMrBkD,EAAA,cAACgB,EAAD,CAASnF,YAAa7B,KAAK4D,MAAMxD,MAAMyB,YAAapB,SAAUT,KAAK4D,MAAMxD,MAAMK,SAAU2D,aAAcpE,KAAK4D,MAAMQ,aAAc1D,MAAOV,KAAK4D,MAAMxD,MAAMM,MAAOE,OAAQZ,KAAK4D,MAAMxD,MAAMQ,OAAQiE,QAAS7E,KAAK4D,MAAMiB,kBA9N/MoC,aAAfxD,EA6BKH,aAAe,CAClB1C,OAAQ,IACRF,MAAO,IACP8C,UAAU,OAiUZ0D,EAeF,SAAAA,EAAYC,EAA2B1G,GAAgB,IAAA2G,EAAApH,KAAAF,OAAAC,EAAA,EAAAD,CAAAE,KAAAkH,GAAAlH,KAd/C2E,YAc+C,EAAA3E,KAb/CqH,SAa+C,EAAArH,KAZhDS,cAYgD,EAAAT,KAXhDsH,iBAWgD,EAAAtH,KAVhDuH,kBAUgD,EAAAvH,KAT/CwH,WAS+C,EAAAxH,KAR/CyH,YAQ+C,EAAAzH,KAP/C0H,SAO+C,EAAA1H,KAN/C2H,YAM+C,EAAA3H,KAL/C4H,UAK+C,EAAA5H,KAJ/C6H,aAI+C,EAAA7H,KAH/C8H,gBAG+C,EAAA9H,KAF/C+H,WAE+C,EAAA/H,KA6BvDgI,KAAO,WAIHhE,QAAQC,IAAImD,EAAKK,OAAO,UACpBL,EAAKW,QAGTX,EAAKW,MAAQzD,YAAY,WACzB,GAAG8C,EAAKC,IAAI,CACRD,EAAKa,cACLb,EAAKC,IAAIa,OAET,IADA,IAAMC,EAAMf,EAAKK,OACRW,EAAI,EAAGC,EAAMF,EAAIG,OAAQF,EAAIC,EAAKD,GAAK,EAC9C,GAAID,EAAIC,GAAGG,OAAQ,KAAAC,EACSL,EAAIC,GAAtB7C,EADSiD,EACTjD,QAASkD,EADAD,EACAC,EAAGC,EADHF,EACGE,EAapB,OAZAtB,EAAKC,IAAIsB,UAAYR,EAAIC,GAAGxC,UAC5BwB,EAAKC,IAAIuB,KAAOxB,EAAKyB,QAAQV,EAAIC,GAAGzC,UACpCyB,EAAKC,IAAIyB,SAASvD,EAASkD,EAAGC,GAC1BP,EAAIC,GAAGW,SACT3B,EAAKC,IAAI2B,YAAc,QACvB5B,EAAKC,IAAI4B,QAAU,SACnB7B,EAAKC,IAAI6B,YACT9B,EAAKC,IAAI8B,OAAOV,EAAGC,EAAI,GACvBtB,EAAKC,IAAI+B,OAAOX,EAAKN,EAAIC,GAAGiB,UAAYjC,EAAKI,MAAQkB,EAAI,GACzDtB,EAAKC,IAAIiC,SACTlC,EAAKC,IAAIkC,aAEHpB,EAAIC,GAAGvC,OACb,IAAK,OACHuB,EAAKK,OAAOW,GAAGK,EAAIN,EAAIC,GAAGK,EAAIN,EAAIC,GAAGoB,MACjCrB,EAAIC,GAAGK,IAAON,EAAIC,GAAGiB,YACvBjC,EAAKK,OAAOW,GAAGG,QAAS,GAEtBJ,EAAIC,GAAGK,EAAIN,EAAIC,GAAGiB,UAAa,GAAAjC,EAAKzC,OAAOjE,OAAoByH,EAAIC,GAAGG,SACxEnB,EAAKQ,KAAKO,EAAIC,GAAGV,IAAM,IAAK,GAE9B,MACF,IAAK,MAEHN,EAAKK,OAAOW,GAAGqB,QAAUrC,EAAKK,OAAOW,GAAGqB,QAAU,GAC9CtB,EAAIC,GAAGqB,SAAWrC,EAAK3G,WACzB2G,EAAKK,OAAOW,GAAGG,QAAS,EACxBnB,EAAKS,QAAQM,EAAIC,GAAGV,IAAM,IAAK,GAEjC,MACF,IAAK,SACHN,EAAKK,OAAOW,GAAGqB,QAAUrC,EAAKK,OAAOW,GAAGqB,QAAU,GAC9CtB,EAAIC,GAAGqB,SAAWrC,EAAK3G,WACzB2G,EAAKK,OAAOW,GAAGG,QAAS,EACxBnB,EAAKU,WAAWV,EAAKU,WAAWQ,OAASH,EAAIC,GAAGV,MAAO,GAEzD,MACF,QACEN,EAAKK,OAAOW,GAAGK,EAAIN,EAAIC,GAAGK,EAAIN,EAAIC,GAAGoB,MACjCrB,EAAIC,GAAGK,IAAON,EAAIC,GAAGiB,YACvBjC,EAAKK,OAAOW,GAAGG,QAAS,GAEtBJ,EAAIC,GAAGK,EAAIN,EAAIC,GAAGiB,UAAYjC,EAAKE,YAAc,IAAMa,EAAIC,GAAGG,SAChEnB,EAAKQ,KAAKO,EAAIC,GAAGV,IAAM,IAAK,IAMtCN,EAAKC,IAAIqC,UACTtC,EAAKuC,mBAEN,MAjGgD3J,KAmGrD2J,eAAiB,WACf,IAAK,IAAIvB,EAAI,EAAGA,EAAIhB,EAAKK,OAAOa,OAAQF,GAAK,EACtChB,EAAKK,OAAOW,GAAGG,QAClBnB,EAAKK,OAAOmC,OAAOxB,EAAG,IAtGyBpI,KA2GrDiI,YAAc,WACTb,EAAKC,KACJD,EAAKC,IAAIwC,UAAU,EAAG,EAAGzC,EAAKE,YAAaF,EAAKG,eA7GDvH,KAgHrD8J,UAAY,SAAC/E,GACX,IAAMqD,EAAIrD,EAAEgF,WAAW,MACjBC,EAAIC,OAAOC,kBAAoB,EAC/BvI,EAAIyG,EAAE+B,8BAAgC/B,EAAEgC,2BAC5ChC,EAAEiC,0BAA4BjC,EAAEkC,yBAA2BlC,EAAEmC,wBAA0B,EACnF3H,EAAIoH,EAAIrI,EACd,GAAIqI,IAAMrI,EAAG,CACX,IAAM6I,EAAIzF,EAAErE,MACN+J,EAAI1F,EAAEnE,OACZmE,EAAErE,MAAQ8J,EAAI5H,EACdmC,EAAEnE,OAAS6J,EAAI7H,EACfwE,EAAKE,YAAckD,EAAI5H,EACvBwE,EAAKG,aAAeiD,EAAI5H,EACxBmC,EAAE2F,MAAMhK,MAAR,GAAAiK,OAAmBH,EAAnB,MACAzF,EAAE2F,MAAM9J,OAAR,GAAA+J,OAAoBF,EAApB,MACArC,EAAEZ,MAAM5E,EAAGA,GAEbwE,EAAKI,MAAQ5E,GAjIsC5C,KAmIrD6I,QAAU,SAAC+B,GACT,IAAIC,EACJ,OAAQD,GACN,IAAK,QACHC,EAAQ,KACR,MACF,IAAK,SACHA,EAAQ,KACR,MACF,IAAK,QACHA,EAAQ,KACR,MACF,QACEA,EAAQ,KAGZ,SAAAF,OAAUE,EAAV,oBAnJmD7K,KAqJrD8K,WAAa,SAACC,GACZ,IAAMC,EAAaD,EAAKE,IAAI,SAACC,GAG3B,OAFoB9D,EAAK+D,WAAWD,GAAG,KAIzC9D,EAAKK,OAASL,EAAKK,OAAOkD,OAAOK,IA3JkBhL,KA6JrDoL,cAAgB,SAACC,GACf,IAAMN,EAAO3D,EAAK+D,WAAWE,GAAO,GACpCjE,EAAKK,OAAO1B,KAAKgF,IA/JkC/K,KAiKrDsL,KAAO,WACFlE,EAAKW,OACNtD,cAAc2C,EAAKW,OAErBX,EAAKW,MAAQ,MArKsC/H,KAuKrDmL,WAAa,SAACJ,EAAqBQ,GACjC,IAAIC,EACAC,EAAY,EACV7D,EAAOR,EAAKQ,KACZC,EAAUT,EAAKS,QACfC,EAAaV,EAAKU,WACxB,GAAGV,EAAKC,IAAI,CACRD,EAAKC,IAAIuB,KAAOxB,EAAKyB,QAAQkC,EAAKpF,UAClC,IAAM6B,EAAQJ,EAAKI,MACbkE,EAAKtE,EAAKC,IAAIsE,YAAYZ,EAAKxF,SAAS7E,MAAQ8G,EAChCJ,EAAKzC,OAAOjE,MAElC,GAAmB,SAAfqK,EAAKlF,MAAkB,CACzB,IAAK,IAAIuC,EAAI,EAAGA,EAAIR,EAAKU,OAAQF,GAAK,EAAG,CACvC,GAAIR,EAAKQ,GAAI,CACXqD,EAAYrD,EAAI,EAChBhB,EAAKQ,KAAKQ,IAAK,EACf,MAEF,GAAIA,IAAMR,EAAKU,OAAS,EAAG,CACzB,IAAMsD,EAAW3G,KAAK2G,UAAYxE,EAAKM,IAAM,GAAM,EACnD+D,EAAYG,EACZxE,EAAKQ,KAAKgE,EAAS,IAAK,GAG5BJ,EAAYpE,EAAKzC,OAAOjE,MAAQ8G,OAC3B,GAAmB,QAAfuD,EAAKlF,MAAiB,CAC/B,IAAK,IAAIuC,EAAI,EAAGA,EAAIP,EAAQS,OAAQF,GAAK,EAAG,CAC1C,GAAIP,EAAQO,GAAI,CACdqD,EAAYrD,EAAI,EAChBhB,EAAKS,QAAQO,IAAK,EAClB,MAEF,GAAIA,IAAMP,EAAQS,OAAS,EAAG,CAC5B,IAAMsD,EAAW3G,KAAK2G,UAAYxE,EAAKM,IAAM,GAAM,EACnD+D,EAAYG,EACZxE,EAAKS,QAAQ+D,EAAS,IAAK,GAG/BJ,GAAcpE,EAAKzC,OAAOjE,MAAQgL,GAAM,EAAKlE,OACxC,GAAmB,WAAfuD,EAAKlF,MAAoB,CAElC,IADA,IAAMwC,EAAMP,EAAWQ,OACdF,EAAI,EAAGA,EAAIC,EAAKD,GAAK,EAAG,CAC/B,GAAIN,EAAWM,GAAI,CACjBqD,EAAYpD,EAAMD,EAClBhB,EAAKU,WAAWM,IAAK,EACrB,MAEF,GAAIA,IAAMP,EAAQS,OAAS,EAAG,CAC5B,IAAMsD,EAAW3G,KAAK2G,UAAYxE,EAAKM,IAAM,GAAM,EACnD+D,EAAYG,EACZxE,EAAKU,WAAW8D,EAAS,IAAK,GAGlCJ,GAAcpE,EAAKzC,OAAOjE,MAAQgL,GAAM,EAAKlE,EAkB/C,OAfA1H,OAAOiE,OACL,GACAgH,EACA,CACEtC,EAAG+C,EACH9C,EAAe,GAAZ+C,EACHpC,UAAWqC,EAEXlC,MAAqB,EAAdvE,KAAK2G,SAAW,EACvB7C,OAAQwC,EACR9B,QAAS,EACTlB,QAAQ,EACRb,IAAK+D,MA1Ob,IAAI9G,EAASwC,EACbnH,KAAK2E,OAASA,EACd,IAAI0C,EAAMrH,KAAK2E,OAAOoF,WAAW,MACjC/J,KAAKqH,IAAMA,EACXrH,KAAKwH,MAAM,EACXxH,KAAK8J,UAAUnF,GACf3E,KAAKS,SAAWA,EAChBT,KAAKiI,cACLjI,KAAKyH,OAAS,GACdzH,KAAK0H,IAAMzC,KAAKC,MAAMP,EAAO/D,OAAS,IACtCZ,KAAK2H,OAAqB,EAAX3H,KAAK0H,IAAW,EAC/B1H,KAAK4H,KAAO,IAAIiE,MAAM7L,KAAK0H,KAAKoE,MAAK,GACrC9L,KAAK6H,QAAU,IAAIgE,MAAM7L,KAAK0H,KAAKoE,MAAK,GACxC9L,KAAK8H,WAAa,IAAI+D,MAAM7L,KAAK0H,KAAKoE,MAAK,GAE3C,IAAMC,EAAgBpH,EAAOqH,WAC7B,GAAGD,EAAU,CACT,IAAME,EAAIF,EAAUpL,YACduL,EAAIH,EAAUlL,aACpBb,KAAKsH,YAAc2E,EACnBjM,KAAKuH,aAAe2E,EACpBvH,EAAOjE,MAAQuL,EACftH,EAAO/D,OAASsL,EAChBvH,EAAO+F,MAAMhK,MAAQuL,EACrBtH,EAAO+F,MAAM9J,OAASsL,IA4O5BC,cAGF,SAAAA,EAAavM,GAAoB,IAAAwM,EAAA,OAAAtM,OAAAC,EAAA,EAAAD,CAAAE,KAAAmM,IAC7BC,EAAAtM,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqM,GAAAhM,KAAAH,KAAMJ,KAHH+E,YAE0B,EAAAyH,EAD1BC,QAC0B,EAI7BD,EAAKzH,OAAO,KACZyH,EAAKC,GAAG,KALqBD,mFAgC7BpM,KAAK2E,OAAO2H,SAASC,cAAc,WACnCvI,QAAQC,IAAIjE,KAAKJ,MAAM,SACpBI,KAAK2E,SACN3E,KAAKqM,GAAG,IAAInF,EAAalH,KAAK2E,OAAO3E,KAAKJ,MAAMa,WAE/CT,KAAKqM,IACNrM,KAAKqM,GAAGrE,qDAIQxF,GAUlB,OATGxC,KAAKqM,KACNrM,KAAKqM,GAAG5L,SAAS+B,EAAU/B,SAC3BT,KAAKqM,GAAG9E,aAAa/E,EAAU5B,OAC/BZ,KAAKqM,GAAG/E,YAAY9E,EAAU9B,OAE7BV,KAAK2E,SACN3E,KAAK2E,OAAOjE,MAAM8B,EAAU9B,MAC5BV,KAAK2E,OAAO/D,OAAO4B,EAAU5B,QAE3B4B,EAAUX,cAAgB7B,KAAKJ,MAAMiC,aACvC7B,KAAKwM,cACE,GAELhK,EAAU4B,eAAiBpE,KAAKJ,MAAMwE,eACT,IAA3B5B,EAAU4B,aACZpE,KAAKyM,cAC+B,IAA3BjK,EAAU4B,cACnBpE,KAAK0M,eAEA,wCAID,IAAAC,EAC8C3M,KAAKJ,MAArDiF,EADE8H,EACF9H,QAAST,EADPuI,EACOvI,aAAcvC,EADrB8K,EACqB9K,YAAa+K,EADlCD,EACkCC,QAC5C,GAAqB,IAAjBxI,IAAuBwI,EAAS,CAClC,IAAM7B,EACNlG,EAAQgI,OAAO,SAAA3B,GAAC,OAAKjG,KAAK6H,MAAM5B,EAAExF,aAAeT,KAAK6H,MAAMjL,KAEzD7B,KAAKqM,KACJrM,KAAKqM,GAAGvB,WAAWC,GACnB/K,KAAKqM,GAAGrE,+CAIF,IAAA+E,EACsB/M,KAAKJ,MAA/BwE,EADI2I,EACJ3I,aAAcwI,EADVG,EACUH,QACD,IAAjBxI,GAAuBwI,GACtB5M,KAAKqM,IACNrM,KAAKqM,GAAGrE,6CAKThI,KAAKqM,IACNrM,KAAKqM,GAAGf,wCAGH,IAAA0B,EAAAhN,KACP,OACEgG,EAAA,wBAAQiH,GAAG,SAASnK,UAAU,YAAYG,IAAK,SAAAC,GAAQ8J,EAAKrI,OAAOzB,GAAOxC,MAAOV,KAAKJ,MAAMc,MAAOE,OAAQZ,KAAKJ,MAAMgB,gBAhGxGqG,aAAhBkF,EAWK7I,aAAe,CAkBlBsJ,SAAS,GAwEFnJ,IC/vBXoB,ED+vBWpB,ICjwBTT,EAASkK,EAAQ,KACjBC,EAASD,EAAQ,KAEvBrI,EAAS,GAET,WACE,IAAI,IAAIuD,EAAE,EAAGA,EAAI,IAAKA,IAAI,CACxB,IAAIqC,EAAIxF,KAAK2G,SACTpL,EAAM,CACR+E,QAAS,2BACTC,KAAM,IAAIC,KACVC,UAAa,GAAF+E,EACX9E,SAAU,SACVC,UAAW,QACXC,MAAO,QAEN4E,EAAE,KACHjK,EAAIqF,MAAM,OAEZrF,EAAIoF,UAAU,IAAMX,KAAKC,MAAU,SAAJuF,GAAc2C,SAAS,IACtDvI,EAAQkB,KAAKvF,IAIjB6M,GACA,IAaeC,EAbO,WACpB,OACE3K,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,YACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAf,0EACAH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAChBH,EAAAC,EAAAC,cAAC0K,EAAD,CAAQ9K,IAAK0K,EAAQnK,OAAQA,EAAQ6B,QAASA,OC1BlC2I,QACW,cAA7BvD,OAAOwD,SAASC,UAEe,UAA7BzD,OAAOwD,SAASC,UAEhBzD,OAAOwD,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAOlL,EAAAC,EAAAC,cAACiL,EAAD,MAASxB,SAASyB,eAAe,SDmI3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.d95d29c8.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video2.f85ea331.mp4\";","import React, { Component } from 'react';\r\n\r\ninterface videoProps{\r\n    src: string,\r\n    loop: boolean,\r\n    preload: string,\r\n    poster: string,\r\n    handleOnLoadStart: ()=> void,\r\n    handleOnLoadedMetadata: (metaData:videoMetaData)=> void,\r\n    handleOnLoadedData: ()=> void,\r\n    handleOnCanPaly: ()=> void,\r\n    handleOnWaiting: ()=> void,\r\n    handleOnError: (error: MediaError)=> void,\r\n}\r\n\r\ninterface videoMetaData{\r\n    duration: number,\r\n    width: number,\r\n    height: number\r\n}\r\n\r\nexport default class Video extends Component<videoProps> {\r\n    static displayName = 'cPlayer';\r\n    private video: HTMLVideoElement | null;\r\n    static defaultProps = {\r\n      autoPlay: false,\r\n      preload: 'auto',\r\n      loop: false,\r\n      volume: 0.8,\r\n      controls: true,\r\n    };\r\n  \r\n    constructor(props:videoProps) {\r\n      super(props);\r\n      this.video = null;\r\n    }\r\n  \r\n    shouldComponentUpdate(nextProps:videoProps) {\r\n      return nextProps.src !== this.props.src;\r\n    }\r\n  \r\n    onLoadStart = () => {\r\n      this.props.handleOnLoadStart();\r\n    }\r\n  \r\n    onLoadedMetaData = () => {\r\n      if(this.video){\r\n          const obj = {\r\n            duration: this.video.duration,\r\n            width: this.video.clientWidth,\r\n            height: this.video.clientHeight\r\n          }\r\n          this.props.handleOnLoadedMetadata(obj);\r\n      }\r\n    }\r\n  \r\n    onLoadedData = () => {\r\n      this.props.handleOnLoadedData();\r\n    }\r\n  \r\n    onWaiting = () => {\r\n      this.props.handleOnWaiting();\r\n    }\r\n  \r\n    onCanPlay = () => {\r\n      this.props.handleOnCanPaly();\r\n    }\r\n  \r\n    onError = () => {\r\n      if(this.video){\r\n          const error = this.video.error;\r\n          if(error){\r\n              this.props.handleOnError(error);\r\n          }\r\n      }\r\n    }\r\n  \r\n    getBuffered = () => {\r\n      if(this.video){\r\n          const { buffered } = this.video;\r\n          let end = 0;\r\n          try {\r\n            end = buffered.end(0) || 0;\r\n            end = ((end * 1000) + 1) / 1000;\r\n          } catch (e) {\r\n            // continue regardless of error\r\n          }\r\n          return end;\r\n      }\r\n    }\r\n  \r\n    getCurrentTime = () => {\r\n        if(this.video){\r\n            return  this.video.currentTime;\r\n        }\r\n    }\r\n  \r\n    setCurrentTime = (time:number) => {\r\n      if(this.video){\r\n          this.video.currentTime = time;\r\n      }\r\n    }\r\n  \r\n    setLoop = (loop:boolean) => {\r\n      if(this.video){\r\n          this.video.loop = loop;\r\n      }\r\n    }\r\n  \r\n    setMuted = (muted:boolean) => {\r\n      if(this.video){\r\n          this.video.muted = muted;\r\n      }\r\n    }\r\n  \r\n    setVolume = (volume:number) => {\r\n      if(this.video){\r\n          this.video.volume = volume;\r\n      }\r\n    }\r\n  \r\n    play = () => {\r\n      if(this.video){\r\n          this.video.play();\r\n      }\r\n    }\r\n  \r\n    pause = () => {\r\n      if(this.video){\r\n          this.video.pause();\r\n      }\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <video\r\n          className=\"react-video\"\r\n          src={this.props.src}\r\n          loop={this.props.loop}\r\n          preload={this.props.preload}\r\n          poster={this.props.poster}\r\n          ref={node => (this.video = node)}\r\n  \r\n          onCanPlay={this.onCanPlay}\r\n          onError={this.onError}\r\n          onLoadStart={this.onLoadStart}\r\n          onLoadedMetadata={this.onLoadedMetaData}\r\n          onLoadedData={this.onLoadedData}\r\n          onWaiting={this.onWaiting}\r\n        //   onProgress={this.onProgress}\r\n        //   onPlay={this.onPlay}\r\n        //   onEnded={this.handleOnEnded}\r\n        />\r\n      );\r\n    }\r\n}","import * as React from 'react';\r\nimport Video from './video'\r\nimport './player.scss'\r\nimport Slider from 'antd/es/slider';\r\nimport Input from 'antd/es/input'\r\n\r\n\r\ninterface playerShape {\r\n    height: number,\r\n    width: number,\r\n    src: string,\r\n    controls: boolean,\r\n    poster: string,\r\n    danmuku: Array<any>\r\n}\r\ninterface stateShape{\r\n    // video: HTMLVideoElement | null,\r\n    video:{\r\n      playTimes: number,\r\n      duration: number,\r\n      currentTime: number,\r\n      bufferedTime: number,\r\n      // volume: number,\r\n      muted: boolean,\r\n      // loop: boolean,\r\n      width: number,\r\n      height: number,\r\n      volume: number\r\n    }\r\n    playerAction: number,\r\n    playerStatus: number,\r\n    // canvas: DanmuViewer | null\r\n    canvas: HTMLCanvasElement | null,\r\n    duration: number,\r\n    process: number,\r\n    danmuInput: string,\r\n    danmuku: Array<any>\r\n}\r\n\r\ninterface videoMetaData{\r\n  duration: number,\r\n  width: number,\r\n  height: number\r\n}\r\n\r\nclass Player extends React.Component<playerShape,stateShape> {\r\n    private video: Video | null\r\n    private currentTimer: NodeJS.Timeout | null\r\n    constructor (props:playerShape) {\r\n        super(props);\r\n        this.state={\r\n            video: {\r\n              playTimes: 0,             // 播放次数\r\n              duration: 0,              // 时长\r\n              currentTime: 0,           // 当前播放时间(s)\r\n              bufferedTime: 0,        // 缓冲状态\r\n              // volume: this.props.volume,\r\n              muted: false,             // 是否关闭声音\r\n              // loop: this.props.loop,  // 是否洗脑循环\r\n              width: 480,\r\n              height: 360,\r\n              volume: 100\r\n            },\r\n            playerAction: 0, // 0: 等待  1: 播放 2: 暂停  3: 拖放前进 4: 播放完毕\r\n            playerStatus: 0,\r\n            canvas: null,\r\n            duration: 0,\r\n            process: 0,\r\n            danmuInput: '',\r\n            danmuku: []\r\n        };\r\n        this.video=null;\r\n        this.currentTimer=null;\r\n    }\r\n    static defaultProps = {\r\n        height: 360,\r\n        width: 480,\r\n        controls: false\r\n    }\r\n    componentDidMount () {\r\n      if(this.props.danmuku){\r\n        this.setState({\r\n          danmuku: this.props.danmuku,\r\n        })\r\n        console.log(this.state.danmuku,'danmuku')\r\n      }\r\n    }\r\n\r\n    play () {\r\n      const { video } = this.state;\r\n      this.setState({\r\n        playerAction: 1\r\n      })\r\n      if(this.video){\r\n        this.video.play();\r\n      }\r\n      this.startCurrentTimer();\r\n    }\r\n    pause () {\r\n        this.setState({ playerAction: 2 });\r\n        if(this.video){\r\n          this.video.pause();\r\n          this.clearCurrentTimer();\r\n        }\r\n    }\r\n    fullScreen () {\r\n        // if(this.state.video){\r\n        //     this.state.video.requestFullscreen();\r\n        // }\r\n    }\r\n    handleOnLoadedMetadata = (metaData:videoMetaData) => {\r\n      if (this.state.video&&this.state.video.playTimes === 0) {\r\n        this.setState({\r\n          video: Object.assign(this.state.video, { duration: metaData.duration }),\r\n        });\r\n        console.log(this.state.video.duration,'duration')\r\n      }\r\n      this.setState({\r\n        video: Object.assign(this.state.video, {width: metaData.width})\r\n      })\r\n      this.setState({\r\n        video: Object.assign(this.state.video, {height: metaData.height})\r\n      })\r\n    }\r\n    handleOnLoadStart() {\r\n    }\r\n    handleOnLoadedData() {\r\n\r\n    }\r\n    handleOnCanPaly() {\r\n\r\n    }\r\n    handleOnWaiting() {\r\n\r\n    }\r\n    handleOnError() {\r\n\r\n    }\r\n    handleOnEneded =() => {\r\n      this.setState({\r\n        playerStatus: 3,\r\n        playerAction: 2,\r\n      });\r\n    }\r\n    setCurrentTime(time:number) {\r\n      this.setState({\r\n        playerAction: 3,\r\n        video: Object.assign(this.state.video, { currentTime: time }),\r\n      });\r\n      if(this.video){\r\n        this.video.setCurrentTime(time);\r\n      }\r\n      this.setState({\r\n        playerAction: 1,\r\n      });\r\n    }\r\n    startCurrentTimer = () => {   // 当前播放时间计时器\r\n      if (this.currentTimer) {\r\n        return;\r\n      }\r\n      this.currentTimer = setInterval(() => {\r\n        if(this.video){\r\n          this.setState({\r\n            video: Object.assign(this.state.video, { currentTime: this.video.getCurrentTime() }),\r\n          });\r\n        }\r\n        this.setState({\r\n            process: (this.state.video.currentTime/this.state.video.duration)*100\r\n        })\r\n      }, 1000);\r\n    }\r\n  \r\n    clearCurrentTimer = () => {   // 清除播放时间计时器\r\n      if(this.currentTimer){\r\n        clearInterval(this.currentTimer);\r\n      }\r\n      this.currentTimer = null;\r\n    }\r\n    formatTime (s:number) {\r\n      let t:string = '';\r\n      if(s>-1){\r\n        // let hour = Math.floor(s/3600);\r\n        let min = Math.floor(s/60) % 60;\r\n        let sec = s % 60;\r\n        // debugger\r\n        // if(hour<10){\r\n        //   t='0'+hour+':';\r\n        // }else{\r\n        //   t= hour+':';\r\n        // }\r\n        if(min<10){\r\n          t+=\"0\";\r\n        }\r\n        t+=min+':';\r\n        if(sec<10){\r\n          t+='0';\r\n        }\r\n        // t+=sec.toFixed(0)\r\n        t+=Math.floor(sec);\r\n      }\r\n      return t\r\n    }\r\n    handleSliderChange (process:any) {\r\n      let currentTime = (process/100)*this.state.video.duration\r\n      if(this.video){\r\n        this.video.setCurrentTime(currentTime)\r\n      }\r\n      this.setState({\r\n        video: Object.assign(this.state.video, { currentTime: currentTime }),\r\n        process: process\r\n      })\r\n    }\r\n    changeInput (event:any) {\r\n      this.setState({\r\n        danmuInput: event.target.value\r\n      })\r\n    }\r\n    changeVolume (event:any) {\r\n      // console.log(event,'event')\r\n      this.setState({\r\n        video: Object.assign(this.state.video, { volume: event }),\r\n      })\r\n      if(this.video){\r\n        this.video.setVolume(event/100)\r\n      }\r\n      console.log(this.state.video.volume,'volume')\r\n    }\r\n    sendDanmu () {\r\n      console.log(this.state.danmuInput,'danmu')\r\n      let obj = {\r\n        content: this.state.danmuInput,\r\n        date: new Date(),\r\n        timePoint: this.state.video.currentTime+0.5,\r\n        fontSize: 'middle',\r\n        fontColor: 'white',\r\n        model: 'roll'\r\n      }\r\n      let nd = this.state.danmuku\r\n      nd.push(obj);\r\n      this.setState({\r\n        danmuku: nd,\r\n        danmuInput: ''\r\n      })\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"videoView\">\r\n                <Video handleOnLoadedMetadata={this.handleOnLoadedMetadata} src={this.props.src} poster={this.props.poster} handleOnLoadStart={this.handleOnLoadStart} handleOnLoadedData={this.handleOnLoadedData} handleOnCanPaly={this.handleOnCanPaly} handleOnWaiting={this.handleOnWaiting} handleOnError={this.handleOnError} ref={node=>{this.video=node}}></Video>\r\n                <div className=\"processDiv\">\r\n                  <div className=\"processBack\"></div>\r\n                  <Slider value={this.state.process} onChange={this.handleSliderChange.bind(this)} min={0} max={100} className=\"processSlider\"/>\r\n                </div>\r\n                <div className=\"controlBar\">\r\n                    {/* <div className=\"playBtn\" onClick={this.play.bind(this)}></div> */}\r\n                    {this.state.playerAction==1?<i className=\"icon-zanting iconfont\" onClick={this.pause.bind(this)}></i>:<i className=\"icon-play iconfont\" onClick={this.play.bind(this)}></i>}\r\n                    <div className=\"currentTime\">{this.formatTime(this.state.video.currentTime)}/</div>\r\n                    <div className=\"duration\">{this.formatTime(this.state.video.duration)}</div>\r\n                    <Input placeholder=\"发个弹幕吐槽吧！\" className=\"danmuInput\" value={this.state.danmuInput} onChange={this.changeInput.bind(this)} onPressEnter={this.sendDanmu.bind(this)}></Input>\r\n                    <div className=\"voiceDiv\">\r\n                      <i className=\"iconfont icon-yinliang\"></i>\r\n                      <Slider vertical value={this.state.video.volume} onChange={this.changeVolume.bind(this)} className=\"voiceSlider\"/>\r\n                      <div className=\"voiceBack\"></div>\r\n                    </div>\r\n                    {/* <div onClick={this.fullScreen.bind(this)}>全屏</div> */}\r\n                </div>\r\n                {/* <div className=\"danmuView\">{danmuElement}</div> */}\r\n                {/* <canvas id=\"canvas\" className=\"danmuView\" width={this.props.width} height={this.props.height}></canvas> */}\r\n                <Danmuku currentTime={this.state.video.currentTime} duration={this.state.video.duration} playerAction={this.state.playerAction} width={this.state.video.width} height={this.state.video.height} danmuku={this.state.danmuku}></Danmuku>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass DanmuViewer{\r\n    private canvas: HTMLCanvasElement;\r\n    private ctx: CanvasRenderingContext2D | null;\r\n    private barrageList: Array<any>;\r\n    private w:  number;\r\n    private h:  number;\r\n    private animationId: number ;\r\n    private currentVideoTime: number;\r\n    private timer: any;\r\n    private danmus: Array<any>;\r\n    private isPlay: boolean;\r\n\r\n    constructor(danmus:Array<any>) {\r\n        let canvas = document.getElementById('canvas') as HTMLCanvasElement;\r\n        this.canvas = canvas;\r\n        let ctx = this.canvas.getContext('2d');\r\n        let rect = this.canvas.getBoundingClientRect();\r\n        this.w = rect.right - rect.left;\r\n        this.h = rect.bottom - rect.top;\r\n        this.animationId=0;\r\n        this.currentVideoTime=0;\r\n        this.isPlay=false;\r\n        if(ctx){\r\n            this.ctx = ctx\r\n            this.ctx.font = '20px Microsoft YaHei';\r\n        }else{\r\n            this.ctx = null\r\n        }\r\n        this.barrageList = [];\r\n        this.danmus = danmus;\r\n    }\r\n    \r\n    //canvas绘制文字x,y坐标是按文字左下角计算，预留30px\r\n    getTop() {\r\n        return Math.floor(Math.random() * (this.h - 30)) + 30;\r\n    }\r\n\r\n    //获取偏移量\r\n    getOffset() {\r\n        return +(Math.random() * 4).toFixed(1) + 1;\r\n    }\r\n\r\n    //获取随机颜色\r\n    getColor() {\r\n        return '#' + Math.floor(Math.random() * 0xffffff).toString(16);\r\n    }\r\n    //绘制文字\r\n    drawText(barrage:any) {\r\n        if(this.ctx){\r\n            this.ctx.fillStyle = barrage.color;\r\n            this.ctx.fillText(barrage.value, barrage.left, barrage.top);\r\n        }\r\n    }\r\n    //添加弹幕列表\r\n    shoot(value:any) {\r\n        let top = this.getTop();\r\n        let color = this.getColor();\r\n        let offset = this.getOffset();\r\n        let width;\r\n        if(this.ctx){\r\n             width = Math.ceil(this.ctx.measureText(value).width);\r\n        }else{\r\n             width = 0\r\n        }\r\n\r\n        let barrage = {\r\n            value: value.content,\r\n            top: top,\r\n            left: this.w,\r\n            color: color,\r\n            offset: offset,\r\n            width: width\r\n        }\r\n        this.barrageList.push(barrage);\r\n    }\r\n\r\n    //开始绘制\r\n    draw() {\r\n        if (this.barrageList.length) {\r\n            if(this.ctx){\r\n                this.ctx.clearRect(0, 0, this.w, this.h);\r\n            }\r\n            for (let i = 0; i < this.barrageList.length; i++) {\r\n                let b = this.barrageList[i];\r\n                if (b.left + b.width <= 0) {\r\n                    this.barrageList.splice(i, 1);\r\n                    i--;\r\n                    continue;\r\n                }\r\n                b.left -= b.offset;\r\n                this.drawText(b);\r\n            }\r\n        }\r\n        this.animationId=requestAnimationFrame(this.draw.bind(this));\r\n        if(this.ctx){\r\n            this.ctx.restore();\r\n        }\r\n    }\r\n\r\n    pause() {\r\n        // cancelAnimationFrame(this.animationId);\r\n        // console.log(this.timer,'timer')\r\n        // clearInterval(this.timer);\r\n        // this.isPlay=false;\r\n        if(this.ctx){\r\n            this.ctx.save();\r\n        }\r\n    }\r\n\r\n    controler() {\r\n        let that = this;\r\n        this.timer=setInterval(()=>{\r\n            if(that.danmus.length){\r\n                for (let danmu of that.danmus){\r\n                    if(danmu.showTime==that.currentVideoTime){\r\n                        that.shoot(danmu)\r\n                    }\r\n                }\r\n            }\r\n            that.currentVideoTime+=1;\r\n        },1000)\r\n        this.isPlay=true;\r\n    }\r\n}\r\n\r\nclass DanmuViewer2{\r\n    private canvas: HTMLCanvasElement;\r\n    private ctx: CanvasRenderingContext2D | null;\r\n    public duration: number;\r\n    public canvasWidth: any;\r\n    public canvasHeight: any;\r\n    private scale: number;\r\n    private danmus: Array<any>;\r\n    private col: number;\r\n    private colTop: number;\r\n    private cols: Array<any>;\r\n    private topCols: Array<any>;\r\n    private bottomCols: Array<any>;\r\n    private timer?: NodeJS.Timer | null;\r\n\r\n    constructor(canvas1: HTMLCanvasElement,duration:number){\r\n        // let canvas = document.getElementById('canvas') as HTMLCanvasElement;\r\n        let canvas = canvas1;\r\n        this.canvas = canvas;\r\n        let ctx = this.canvas.getContext('2d');\r\n        this.ctx = ctx;\r\n        this.scale=0;\r\n        this.fixCanvas(canvas);\r\n        this.duration = duration;\r\n        this.clearCanvas();\r\n        this.danmus = [];\r\n        this.col = Math.floor(canvas.height / 30);\r\n        this.colTop = (this.col * 2) / 3;\r\n        this.cols = new Array(this.col).fill(true);\r\n        this.topCols = new Array(this.col).fill(true);\r\n        this.bottomCols = new Array(this.col).fill(true);\r\n\r\n        const container:any = canvas.parentNode;\r\n        if(container){\r\n            const w = container.clientWidth;\r\n            const h = container.clientHeight;\r\n            this.canvasWidth = w;\r\n            this.canvasHeight = h;\r\n            canvas.width = w;\r\n            canvas.height = h;\r\n            canvas.style.width = w;\r\n            canvas.style.height = h;\r\n        }\r\n    }\r\n    draw = () => {\r\n        // if (!this.isSupport) {\r\n        //   return;\r\n        // }\r\n        console.log(this.danmus,'danmus')\r\n        if (this.timer) {\r\n          return;\r\n        }\r\n        this.timer = setInterval(() => {\r\n        if(this.ctx){\r\n            this.clearCanvas();\r\n            this.ctx.save();\r\n            const arr = this.danmus;\r\n            for (let i = 0, len = arr.length; i < len; i += 1) {\r\n              if (arr[i].status) {\r\n                const { content, x, y } = arr[i];\r\n                this.ctx.fillStyle = arr[i].fontColor;\r\n                this.ctx.font = this.getFont(arr[i].fontSize);\r\n                this.ctx.fillText(content, x, y);\r\n                if (arr[i].insert) {\r\n                  this.ctx.strokeStyle = 'white';\r\n                  this.ctx.lineCap = 'square';\r\n                  this.ctx.beginPath();\r\n                  this.ctx.moveTo(x, y + 3);\r\n                  this.ctx.lineTo(x + (arr[i].textWidth / this.scale), y + 3);\r\n                  this.ctx.stroke();\r\n                  this.ctx.closePath();\r\n                }\r\n                switch (arr[i].model) {\r\n                  case 'roll':\r\n                    this.danmus[i].x = arr[i].x - arr[i].speed;\r\n                    if (arr[i].x <= -(arr[i].textWidth)) {\r\n                      this.danmus[i].status = false;\r\n                    }\r\n                    if (arr[i].x + arr[i].textWidth < (this.canvas.width * (4 / 5)) && arr[i].status) {\r\n                      this.cols[arr[i].col - 1] = true;\r\n                    }\r\n                    break;\r\n                  case 'top':\r\n                    // debugger\r\n                    this.danmus[i].current = this.danmus[i].current + 30;\r\n                    if (arr[i].current >= this.duration) {\r\n                      this.danmus[i].status = false;\r\n                      this.topCols[arr[i].col - 1] = true;\r\n                    }\r\n                    break;\r\n                  case 'bottom':\r\n                    this.danmus[i].current = this.danmus[i].current + 30;\r\n                    if (arr[i].current >= this.duration) {\r\n                      this.danmus[i].status = false;\r\n                      this.bottomCols[this.bottomCols.length - arr[i].col] = true;\r\n                    }\r\n                    break;\r\n                  default:\r\n                    this.danmus[i].x = arr[i].x - arr[i].speed;\r\n                    if (arr[i].x <= -(arr[i].textWidth)) {\r\n                      this.danmus[i].status = false;\r\n                    }\r\n                    if (arr[i].x + arr[i].textWidth < this.canvasWidth - 33 && arr[i].status) {\r\n                      this.cols[arr[i].col - 1] = true;\r\n                    }\r\n                    break;\r\n                }\r\n              }\r\n            }\r\n            this.ctx.restore();\r\n            this.refreshDanmuku();\r\n            }\r\n        }, 30);\r\n      };\r\n      refreshDanmuku = () => {\r\n        for (let i = 0; i < this.danmus.length; i += 1) {\r\n          if (!this.danmus[i].status) {\r\n            this.danmus.splice(i, 1);\r\n          }\r\n        }\r\n      };\r\n      \r\n      clearCanvas = () => {\r\n        if(this.ctx){\r\n            this.ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\r\n        }\r\n      };\r\n      fixCanvas = (t:any) => {\r\n        const i = t.getContext('2d');\r\n        const n = window.devicePixelRatio || 1;\r\n        const e = i.webkitBackingStorePixelRatio || i.mozBackingStorePixelRatio ||\r\n          i.msBackingStorePixelRatio || i.oBackingStorePixelRatio || i.backingStorePixelRatio || 1;\r\n        const a = n / e;\r\n        if (n !== e) {\r\n          const o = t.width;\r\n          const r = t.height;\r\n          t.width = o * a;\r\n          t.height = r * a;\r\n          this.canvasWidth = o * a;\r\n          this.canvasHeight = o * a;\r\n          t.style.width = `${o}px`;\r\n          t.style.height = `${r}px`;\r\n          i.scale(a, a);\r\n        }\r\n        this.scale = a;\r\n      };\r\n      getFont = (size:string) => {\r\n        let ratio;\r\n        switch (size) {\r\n          case 'small':\r\n            ratio = '14';\r\n            break;\r\n          case 'middle':\r\n            ratio = '20';\r\n            break;\r\n          case 'large':\r\n            ratio = '26';\r\n            break;\r\n          default:\r\n            ratio = '20';\r\n            break;\r\n        }\r\n        return `${ratio}px Arial normal`;\r\n      };\r\n      addDanmuku = (data:Array<any>) => {\r\n        const newDanmuku = data.map((d) => {\r\n          const danmukuData = this.formatData(d, false);\r\n          // debugger\r\n          return danmukuData;\r\n        });\r\n        this.danmus = this.danmus.concat(newDanmuku);\r\n      }\r\n      insertDanmuku = (danmu:danmukuContent) => {\r\n        const data = this.formatData(danmu, true);\r\n        this.danmus.push(data);\r\n      }\r\n      stop = () => {\r\n        if(this.timer){\r\n          clearInterval(this.timer);\r\n        }\r\n        this.timer = null;\r\n      }\r\n      formatData = (data:danmukuContent, insertFlag:any) => {\r\n        let positionX;\r\n        let randomCol = 0;\r\n        const cols = this.cols;\r\n        const topCols = this.topCols;\r\n        const bottomCols = this.bottomCols;\r\n        if(this.ctx){\r\n            this.ctx.font = this.getFont(data.fontSize);\r\n            const scale = this.scale;\r\n            const tw = this.ctx.measureText(data.content).width * scale;\r\n            const distance = tw + this.canvas.width;\r\n            // debugger\r\n            if (data.model === 'roll') {\r\n              for (let i = 0; i < cols.length; i += 1) {\r\n                if (cols[i]) {\r\n                  randomCol = i + 1;\r\n                  this.cols[i] = false;\r\n                  break;\r\n                }\r\n                if (i === cols.length - 1) {\r\n                  const random = ((Math.random() * (this.col - 1)) + 1);\r\n                  randomCol = random;\r\n                  this.cols[random - 1] = false;\r\n                }\r\n              }\r\n              positionX = this.canvas.width / scale;\r\n            } else if (data.model === 'top') {\r\n              for (let i = 0; i < topCols.length; i += 1) {\r\n                if (topCols[i]) {\r\n                  randomCol = i + 1;\r\n                  this.topCols[i] = false;\r\n                  break;\r\n                }\r\n                if (i === topCols.length - 1) {\r\n                  const random = ((Math.random() * (this.col - 1)) + 1);\r\n                  randomCol = random;\r\n                  this.topCols[random - 1] = false;\r\n                }\r\n              }\r\n              positionX = ((this.canvas.width - tw) / 2) / scale;\r\n            } else if (data.model === 'bottom') {\r\n              const len = bottomCols.length;\r\n              for (let i = 0; i < len; i += 1) {\r\n                if (bottomCols[i]) {\r\n                  randomCol = len - i;\r\n                  this.bottomCols[i] = false;\r\n                  break;\r\n                }\r\n                if (i === topCols.length - 1) {\r\n                  const random = ((Math.random() * (this.col - 1)) + 1);\r\n                  randomCol = random;\r\n                  this.bottomCols[random - 1] = false;\r\n                }\r\n              }\r\n              positionX = ((this.canvas.width - tw) / 2) / scale;\r\n            }\r\n            const danmukuData =\r\n            Object.assign(\r\n              {},\r\n              data,\r\n              {\r\n                x: positionX,\r\n                y: randomCol * 30,\r\n                textWidth: tw,\r\n                // speed: (distance / scale) / ((this.duration / 1000) * 33),\r\n                speed: Math.random()*5+1,\r\n                insert: insertFlag,\r\n                current: 0,\r\n                status: true,\r\n                col: randomCol,\r\n              },\r\n            );\r\n            return danmukuData;\r\n        }\r\n      };\r\n}\r\n\r\ninterface danmukuProps{\r\n    danmuku: Array<danmukuContent>;\r\n    playerAction: number;\r\n    currentTime: number;\r\n    loading: boolean;\r\n    duration: number;\r\n    width: number,\r\n    height: number\r\n    // dc:any;\r\n}\r\ninterface danmukuContent{\r\n    content: string,\r\n    date: string,\r\n    timePoint: number,\r\n    fontSize: any,\r\n    model: string\r\n}\r\n\r\nclass Danmuku extends React.Component<danmukuProps>{\r\n    public canvas:HTMLCanvasElement | null\r\n    public dc:DanmuViewer2 | null\r\n    constructor (props:danmukuProps) {\r\n        super(props)\r\n        // if(!this.canvas){\r\n        // this.canvas=document.querySelector('#canvas')\r\n        this.canvas=null\r\n        this.dc=null\r\n        // }\r\n    }\r\n    static defaultProps = {\r\n        // danmuku: [{\r\n        //   content: 'test',\r\n        //   date: new Date(),\r\n        //   timePoint: 1,\r\n        //   fontSize: 'middle',\r\n        //   fontColor: 'white',\r\n        //   model: 'roll'\r\n        // },{\r\n        //   content: 'test2',\r\n        //   date: new Date(),\r\n        //   timePoint: 1,\r\n        //   fontSize: 'middle',\r\n        //   fontColor: 'white',\r\n        //   model: 'roll'\r\n        // }],\r\n        // playerAction: 1,\r\n        // currentTime: 1,\r\n        loading: false,\r\n        // duration: 10,\r\n        // dc: new DanmuViewer2(this.canvas,10)\r\n    }\r\n    componentDidMount(){\r\n        // this.props.dc = new DanmuViewer2(10);\r\n        this.canvas=document.querySelector('#canvas')\r\n        console.log(this.props,'props')\r\n        if(this.canvas){\r\n          this.dc=new DanmuViewer2(this.canvas,this.props.duration)\r\n        }\r\n        if(this.dc){\r\n          this.dc.draw();\r\n        }\r\n        // this.runDanmuku();\r\n    }\r\n    shouldComponentUpdate(nextProps:danmukuProps) {\r\n        if(this.dc){\r\n          this.dc.duration=nextProps.duration;\r\n          this.dc.canvasHeight=nextProps.height;\r\n          this.dc.canvasWidth=nextProps.width;\r\n        }\r\n        if(this.canvas){\r\n          this.canvas.width=nextProps.width;\r\n          this.canvas.height=nextProps.height;\r\n        }\r\n        if (nextProps.currentTime !== this.props.currentTime) {\r\n          this.runDanmuku();\r\n          return true;\r\n        }\r\n        if (nextProps.playerAction !== this.props.playerAction) {\r\n          if (nextProps.playerAction === 1) {\r\n            this.drawDanmuku();\r\n          } else if (nextProps.playerAction === 2) {\r\n            this.stopDanmuku();\r\n          }\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    runDanmuku(){\r\n      const { danmuku, playerAction, currentTime, loading } = this.props;\r\n      if (playerAction === 1 && !loading) {\r\n        const data =\r\n        danmuku.filter(d => (Math.round(d.timePoint) === Math.round(currentTime)));\r\n        // danmuku.filter(d => (d.timePoint === currentTime));\r\n        if(this.dc){\r\n            this.dc.addDanmuku(data);\r\n            this.dc.draw();\r\n          }\r\n        }\r\n    }\r\n    drawDanmuku() {\r\n      const { playerAction, loading } = this.props;\r\n      if (playerAction === 1 && !loading) {\r\n        if(this.dc){\r\n          this.dc.draw();\r\n        }\r\n      }\r\n    }\r\n    stopDanmuku() {\r\n      if(this.dc){\r\n        this.dc.stop();\r\n      }\r\n    }\r\n    render() {\r\n      return (\r\n        <canvas id=\"canvas\" className=\"danmuView\" ref={node =>{this.canvas=node}} width={this.props.width} height={this.props.height}></canvas>\r\n      )\r\n    }\r\n}\r\n\r\nexport default Player;","import React from 'react';\r\nimport './App.css';\r\nimport Player from './components/player';\r\n// import poster from './assets/test.jpg'\r\n// import videos from './assets/video.mp4'\r\n\r\n// const videos = require('./assets/video.mp4')\r\nconst poster = require('./assets/test.jpg')\r\nconst videos = require('./assets/video2.mp4')\r\nlet danmuku:Array<any>;\r\ndanmuku= [];\r\n\r\nfunction generateDanmu () {\r\n  for(let i=0; i < 100; i++){\r\n    let r = Math.random()\r\n    let obj = {\r\n      content: '测试弹幕',\r\n      date: new Date(),\r\n      timePoint: r*10,\r\n      fontSize: 'middle',\r\n      fontColor: 'white',\r\n      model: 'roll'\r\n    }\r\n    if(r<0.5){\r\n      obj.model='top'\r\n    }\r\n    obj.fontColor='#' + Math.floor(r * 0xffffff).toString(16)\r\n    danmuku.push(obj)\r\n  }\r\n\r\n}\r\ngenerateDanmu ()\r\nconst App: React.FC = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"title\">C-player</div>\r\n      <div className=\"subTitle\">一个基于typescript的弹幕播放器</div>\r\n      <header className=\"App-header\">\r\n        <Player src={videos} poster={poster} danmuku={danmuku}></Player>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}